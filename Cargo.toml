[package]
name = "distribute"
version = "0.10.2"
edition = "2021"

# See more keys and their definitions at https://doc.rust-lang.org/cargo/reference/manifest.html

[dependencies]
thiserror = "1.0.31"
serde = { version = "1.0.126", features = ["derive"] }
serde_yaml = "0.8.17"
derive_more = "0.99.16"
bincode = { version = "1.3.3", optional = true }
walkdir = { version = "2.3.2", optional = true }
tokio = { version = "1.17.0", features = ["rt", "macros", "net", "io-util", "time", "sync", "fs", "process", "rt-multi-thread"], optional = true } 
chrono = { version = "0.4.19", optional = true }
fern = { version = "0.6.0", optional = true }
log = { version = "0.4.14", optional = true }
futures = { version = "0.3.16", optional = true}
nix = { version = "0.22.0", optional = true }
num_cpus = { version = "1.13.0", optional = true }
tokio-stream = { version = "0.1.7", features = ["fs"], optional = true}
sha1 = { version = "0.6.0", optional = true }
signal-hook = { version = "0.3.9", default_features = false, optional = true }
regex = { version = "1.5.4", optional = true }
structopt = { version = "0.3.25", optional = true }

[dependencies.matrix-notify]
git = "https://github.com/fluid-Dynamics-Group/matrix-notify"
rev = "cfc4988e60515bd99d2000c48d58eb56ae336a71"

[features]
default = ["cli"]
cli = [
	"structopt", 
	"regex", 
	"signal-hook", 
	"sha1", 
	"tokio-stream", 
	"num_cpus", 
	"nix", 
	"futures",
	"log",
	"fern",
	"chrono",
	"tokio",
	"walkdir",
	"bincode",
	"matrix-notify/cli"
]

[[bin]]
name = "distribute"
required-features = ["cli"]
